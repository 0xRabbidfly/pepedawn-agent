---
description: Systematic production deployment preparation checklist
manual: true
---

# Production Deployment Preparation

Execute this comprehensive pre-deployment checklist when preparing code for production release.

## Usage

Invoke with: `@production-prep [major|minor|patch]`

Example: `@production-prep minor`

## Checklist

### 1. Code Productionalization
- Gather context before reviewing code:
  - `git status -sb` to list all local changes
  - `git log origin/master..HEAD --stat` (or your main branch equivalent) to confirm everything done since the last push
  - Identify the **primary feature(s)** delivered by the branch (not just the latest fixes) so release notes and changelog lead with the dominant work
- Review all new/modified code for:
  - Deduplication opportunities
  - Clean code practices
  - Removal of debug logic (console.logs, debug flags, etc.)
  - Best practices compliance
  - Performance considerations
  - Error handling completeness

### 2. Debug Artifact Cleanup
- Identify and remove:
  - Temporary scripts used for debugging
  - Test data files not needed in production
  - Development-only utilities
  - Commented-out code blocks
  - Unused imports

### 3. Test Coverage Validation
- Verify test automation for new functionality
- If tests missing, add the coverage and run tests until they pass
- update our pre-commit to absorb any new test files at .git/hooks/pre-commit
- Update test documentation:
  - `pepe-tg/src/__tests__/README.md` (or equivalent)
  - Test count summaries
  - Coverage of new features

### 4. Environment Configuration Review
**MANDATORY:** Check if `.env.example` needs updates:
- New environment variables added in code
- Changed default values for existing variables
- Deprecated/removed variables that should be documented
- Updated descriptions or usage notes
- Configuration examples for new features

### 5. Documentation Updates
Review and update if necessary:
- `README.md` (root) - Feature list, usage examples
- `CONTRIBUTING.md` - Development workflow changes
- `telegram_docs/PEPEDAWN_FLOW_DIAGRAMS.md` - Architecture changes
- `telegram_docs/PEPEDAWN_HELP_VISUAL.md` - User-facing commands
- `telegram_docs/PEPEDAWN_SPEC_REFERENCE.md` - Technical specifications
- `pepe-tg/README.md` - Project-specific documentation
- if introducing a new cmd - update the '/help' cmd handler, and add a new tip to periodicContent.ts

### 6. CHANGELOG.md Update
- Add new entry under `[Unreleased]` or create version section
- Document:
  - Added features
  - Changed behavior
  - Fixed bugs
  - Technical details
- Follow Keep a Changelog format

### 7. Version Bump & Tagging
- Read the current version from `package.json`
- Decide the new semantic version (major/minor/patch) based on the release scope
- Update `package.json` (and any lock files) with the new version
- Follow semantic versioning:
  - **MAJOR**: Breaking changes
  - **MINOR**: New features (backward compatible)
  - **PATCH**: Bug fixes (backward compatible)
- Prepare git tag command (DO NOT EXECUTE) using the new version, e.g. `v1.2.3`

### 8. Git Command Preparation
- Create a commit message that accurately summarizes the work since the last push (use `git log origin/master..HEAD` for reference)
- Generate commands for user to execute MANUALLY (replace version/summary placeholders):
- NEVER EXECUTE GIT COMMANDS!
  ```bash
  git add .
  git commit -m "Release vX.Y.Z: <concise summary of changes>"
  git tag -a vX.Y.Z -m "Version X.Y.Z"
  git push origin master --tags
  ```

## Important Rules

⚠️ **NEVER execute git commands** - Always prompt user with commands to run manually
⚠️ **Be thorough** - Don't skip steps even if they seem minor
⚠️ **Document gaps** - If tests/docs are missing, explicitly note them

## Execution Flow

1. Create TODO list with all checklist items
2. Execute each step systematically
3. Mark items complete as you go
4. Present final summary with:
   - Items completed
   - Items that need manual attention
   - Git commands ready to execute
